# ğŸŒ™ æœˆã­ã“åè¨€å¸– (Tsukineko Meigen-Cho) - AI Powered Quote Curator

> **ã€Œæ°—ã®åˆ©ã„ãŸã“ã¨ã¯è¨€ãˆã¾ã›ã‚“ãŒã€æœ€é«˜ã®ç‰©èªãªã‚‰çŸ¥ã£ã¦ã„ã¾ã™ã€‚ã€**
>
> æ„Ÿæƒ…ã«å¯„ã‚Šæ·»ã†ã€AIé§†å‹•å‹ãƒ»å’Œãƒ¢ãƒ€ãƒ³åè¨€å‡¦æ–¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

![Tsukineko Banner](/mascot.jpg)
<!-- â€» ã‚‚ã—ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒã‚ã‚Œã°ã“ã“ã«é…ç½®æ¨å¥¨ -->

## ğŸ“– ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**æœˆã­ã“åè¨€å¸–**ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸã€Œç¾åœ¨ã®æ„Ÿæƒ…ã€ã‚„ã€Œæ‚©ã¿ã€ã‚’AIãŒè§£æã—ã€æ•°å¤šã‚ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ»æ¼«ç”»ä½œå“ã®ä¸­ã‹ã‚‰**æœ€é©ãªã€Œåè¨€ã€**ã‚’é¸å®šã—ã¦å‡¦æ–¹ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

å˜ãªã‚‹ãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤ºã§ã¯ãªãã€Google Gemini AI ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç†è§£èƒ½åŠ›ã‚’æ´»ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¿ƒã«éŸ¿ãã€Œæ„å¤–ãªã‚»ãƒªãƒ•ã€ã‚„ã€Œéš ã‚ŒãŸåä½œã€ã‚’ææ¡ˆã—ã¾ã™ã€‚
ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ã€Œå’Œãƒ¢ãƒ€ãƒ³ã€ã‚’ãƒ†ãƒ¼ãƒã«ã€ãƒ‡ã‚¸ã‚¿ãƒ«ãªAIæŠ€è¡“ã¨ä¼çµ±çš„ãªç¾æ„è­˜ï¼ˆéº»ã®è‘‰ã€é’æµ·æ³¢ãªã©ï¼‰ã‚’èåˆã•ã›ã¦ã„ã¾ã™ã€‚

---

## âœ¨ ä¸»ãªæ©Ÿèƒ½

1.  **AIæ„Ÿæƒ…åˆ†æ & åè¨€å‡¦æ–¹**
    *   ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªç”±è¨˜è¿°ï¼ˆä»Šã®æ°—æŒã¡ï¼‰ã‚’è§£æã€‚
    *   ã€Œæ„å¤–æ€§ã€ã€Œãƒˆãƒªãƒ“ã‚¢ã€ã€Œæ¤œç´¢æ€§ã€ã‚’è€ƒæ…®ã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šã€æ·±ã¿ã®ã‚ã‚‹é¸æ›¸ã‚’å®Ÿç¾ã€‚
2.  **å’Œãƒ¢ãƒ€ãƒ³UI / UX**
    *   Tailwind CSS ã‚’é§†ä½¿ã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ã€‚
    *   CSSã§æç”»ã•ã‚ŒãŸä¼çµ±æ–‡æ§˜ï¼ˆéº»ã®è‘‰ã€ä¸ƒå®ã€é’æµ·æ³¢ï¼‰ã¨ã€å’Œç´™ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã€‚
    *   ç¸¦æ›¸ãã‚„æ˜æœä½“ã‚’æ´»ã‹ã—ãŸã€æ›¸ç±ã®ã‚ˆã†ãªç¾ã—ã„ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã€‚
3.  **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªä½“é¨“**
    *   æ™‚é–“å¸¯ã«ã‚ˆã£ã¦å¤‰åŒ–ã™ã‚‹ã€Œæœˆã­ã“ã€ã‹ã‚‰ã®æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚
    *   å…¥åŠ›æ–‡å­—æ•°ã«å¿œã˜ãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨UXãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€‚
4.  **è©³ç´°ãªåˆ†æçµæœ**
    *   AIãŒãªãœãã®åè¨€ã‚’é¸ã‚“ã ã®ã‹ï¼ˆSelection Reasoningï¼‰ã€‚
    *   æ¤œå‡ºã•ã‚ŒãŸæ„Ÿæƒ…ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆPrimary/Secondary Emotionsï¼‰ã®å¯è¦–åŒ–ã€‚

---

## ğŸ›  ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

æœ¬ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€Next.js (App Router) ã‚’ãƒ™ãƒ¼ã‚¹ã«æ§‹ç¯‰ã•ã‚Œã€Vercel ä¸Šã§ã®å‹•ä½œã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚

```mermaid
graph TD
    Client["Client (Browser)"]
    subgraph "Vercel / Next.js Infrastructure"
        Page["React Server/Client Components"]
        RouteGen["API Route: /api/generate"]
        RouteCover["API Route: /api/book-cover"]
    end
    
    subgraph "External Services"
        Gemini["Google Gemini API"]
        Rakuten["Rakuten Books API (Optional)"]
    end

    Client -->|1. User Input| Page
    Page -->|2. POST Request| RouteGen
    RouteGen -->|3. Optimized Prompt| Gemini
    Gemini -->|4. Structured JSON| RouteGen
    RouteGen -->|5. Quote Data| Page
    Page -.->|6. Fetch Cover Image| RouteCover
    RouteCover -.->|7. Search Query| Rakuten
```

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´
*   **Edge/Serverless Functions**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ã¯å…¨ã¦API Routeã¨ã—ã¦å®Ÿè£…ã•ã‚Œã€ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¾ã™ã€‚
*   **Prompt Engineering Layer**: `app/api/generate/route.ts` å†…ã«ã€AIã®ã€Œãƒšãƒ«ã‚½ãƒŠï¼ˆä¼èª¬ã®ã‚ªã‚¿ã‚¯å…¼ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ï¼‰ã€ã¨ã€Œå‡ºåŠ›åˆ¶ç´„ï¼ˆJSONï¼‰ã€ã‚’å³å¯†ã«å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
*   **Type Safety**: TypeScriptã«ã‚ˆã‚‹å³æ ¼ãªå‹å®šç¾©ï¼ˆ`types/quote.ts`ï¼‰ã«ã‚ˆã‚Šã€AIå‡ºåŠ›ã®æºã‚‰ãã‚’å¸åã—ã€å …ç‰¢ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ã‚’ä¿è¨¼ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ”„ å‡¦ç†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ„Ÿæƒ…ã‚’å…¥åŠ›ã—ã¦ã‹ã‚‰ã€åè¨€ãŒæç¤ºã•ã‚Œã‚‹ã¾ã§ã®ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚

```mermaid
sequenceDiagram
    participant User
    participant UI as Browser (React)
    participant API as Next.js API
    participant AI as Gemini Model

    Note over User, UI: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ„Ÿæƒ…ã‚’å…¥åŠ› (ä¾‹: "æ˜æ—¥ãŒä¸å®‰...")
    User->>UI: é€ä¿¡ãƒœã‚¿ãƒ³æŠ¼ä¸‹
    UI->>UI: ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã¸é·ç§» (Mascot Animation)
    UI->>API: POST /api/generate { emotion: text }
    
    Note over API: Input Validation & Prompt Construction
    API->>AI: generateContent(SystemPrompt + UserEmotion)
    
    opt Thinking Process
        AI-->>AI: æ„Ÿæƒ…åˆ†æ (Primary/Secondary)
        AI-->>AI: ä½œå“ãƒ»åè¨€å€™è£œã®é¸å®š
        AI-->>AI: JSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¸ã®æ•´å½¢
    end
    
    AI-->>API: JSON Response
    API->>API: JSON Parsing & Error Handling
    API-->>UI: QuoteResponse Object
    
    UI->>UI: åè¨€ã‚«ãƒ¼ãƒ‰ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (Fade-in-up)
    UI-->>User: åè¨€ã¨è§£èª¬ã‚’è¡¨ç¤º
```

---

## ğŸ’» æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| Category | Technology | Version | Usage |
| :--- | :--- | :--- | :--- |
| **Framework** | **Next.js** | 16.1.1 | App Router, Server Actions |
| **Language** | **TypeScript** | 5.x | Static Typing, Interfaces |
| **UI Library** | **React** | 19.x | Component Architecture |
| **Styling** | **Tailwind CSS** | 4.x | Utility-first CSS, Custom Animations |
| **AI Model** | **Google Gemini** | 1.5-flash | Natural Language Processing |
| **Icons** | **Lucide React** | 0.562 | SVG Icons |
| **Font** | **Google Fonts** | Noto Serif JP, Zen Kurenaido | Typography |

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
.
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/generate/    # AIç”Ÿæˆã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ components/      # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Atomic Design Inspired)
â”‚   â”‚   â”œâ”€â”€ EmotionForm.tsx   # å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”œâ”€â”€ QuoteCard.tsx     # åè¨€è¡¨ç¤ºã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ WelcomeMessage.tsx # å‹•çš„ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ layout.tsx       # Root Layout (Google Fontsè¨­å®š)
â”‚   â””â”€â”€ page.tsx         # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ (Stateç®¡ç†)
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ gemini.ts        # Google Generative AI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–
â”œâ”€â”€ types/
â”‚   â””â”€â”€ quote.ts         # APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®šç¾©
â””â”€â”€ public/              # é™çš„ã‚¢ã‚»ãƒƒãƒˆ (mascot.jpg ç­‰)
```

---

## ğŸš€ ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œæ–¹æ³•

é–‹ç™ºè€…å‘ã‘ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

### 1. å‰ææ¡ä»¶
*   Node.js (v18 or later)
*   npm or yarn or pnpm
*   Google Cloud Project ã§ã® Gemini API Key å–å¾—

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
git clone https://github.com/yourname/tsukineko-meigen-gacha.git
cd tsukineko-meigen-gacha
npm install
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚

```env
GEMINI_API_KEY=your_google_gemini_api_key_here
```

### 4. å®Ÿè¡Œ

```bash
npm run dev
```
`http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚

---

## ğŸ›¡ï¸ License & Credit

*   **Development**: Developed by **nekoai-lab** (Powered by Google Gemini Code Assistant)
*   **License**: MIT (See LICENSE file for details)

---
*Created with â¤ï¸ & ğŸŒ™ by æœˆã­ã“é–‹ç™ºãƒãƒ¼ãƒ *
